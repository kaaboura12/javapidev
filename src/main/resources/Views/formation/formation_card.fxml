<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import java.util.*?>
<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="Controllers.formation.FormationCardController"
      styleClass="formation-card-modern"
      stylesheets="@../../Styles/formation-card.css">
    
    <!-- Add a drop shadow effect to the entire card -->
    <effect>
        <DropShadow color="rgba(52,152,219,0.3)" radius="15" spread="0.1" />
    </effect>
    
    <!-- Card Header -->
    <HBox alignment="CENTER_LEFT" spacing="10">
        <padding><Insets top="15" right="15" bottom="5" left="15"/></padding>
        
        <!-- Duration Display -->
        <VBox alignment="CENTER" minWidth="45" style="-fx-background-color: #3498db; -fx-background-radius: 5px;">
            <padding><Insets top="5" right="5" bottom="5" left="5"/></padding>
            <Label fx:id="durationLabel" text="30 Days" style="-fx-font-weight: bold; -fx-text-fill: white;"/>
        </VBox>
        
        <!-- Title -->
        <Label fx:id="titleLabel" text="Formation Title" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" 
               wrapText="true" HBox.hgrow="ALWAYS"/>
    </HBox>
    
    <!-- Thumbnail Image with improved margins -->
    <ImageView fx:id="formationImage" 
               fitWidth="340" 
               fitHeight="200" 
               preserveRatio="true"
               styleClass="formation-image">
        <VBox.margin>
            <Insets bottom="15" left="15" right="15" top="10"/>
        </VBox.margin>
    </ImageView>
    
    <!-- Category -->
    <HBox alignment="CENTER_LEFT">
        <padding><Insets top="0" right="15" bottom="5" left="15"/></padding>
        <Label fx:id="categoryLabel" text="Category" style="-fx-font-size: 12px; -fx-text-fill: #3498db; -fx-font-weight: bold;"/>
    </HBox>

    <!-- Start Date -->
    <HBox alignment="CENTER_LEFT" spacing="10">
        <padding><Insets top="0" right="15" bottom="5" left="15"/></padding>
        <Label fx:id="categoryLabel" style="-fx-font-size: 12px; -fx-text-fill: #3498db; -fx-font-weight: bold;"/>
        <Label fx:id="startDateLabel" style="-fx-font-size: 12px; -fx-text-fill: #e74c3c; -fx-font-weight: bold;"/>
    </HBox>
    
    <!-- Description -->
    <HBox>
        <padding><Insets top="0" right="15" bottom="10" left="15"/></padding>
        <Text fx:id="descriptionText" text="Formation description goes here." 
              wrappingWidth="280" style="-fx-font-size: 13px; -fx-fill: #444444;"/>
    </HBox>
    
    <!-- Date Range -->
    <HBox alignment="CENTER_LEFT" spacing="5" style="-fx-background-color: #f0f0f0; -fx-background-radius: 0 0 4px 4px;">
        <padding><Insets top="8" right="15" bottom="8" left="15"/></padding>
        <Label text="Dates:" style="-fx-font-size: 12px; -fx-font-weight: bold; -fx-text-fill: #555555;"/>
        <Label fx:id="dateRangeLabel" text="Jan 10, 2023 - Feb 10, 2023" style="-fx-font-size: 12px; -fx-text-fill: #555555;"/>
    </HBox>
    
    <!-- Bottom Row with enhanced styling -->
    <HBox alignment="CENTER_LEFT" spacing="10" styleClass="card-footer">
        <padding><Insets top="15" right="15" bottom="15" left="15"/></padding>
        
        <VBox spacing="3" HBox.hgrow="ALWAYS">
            <Label fx:id="priceLabel" styleClass="price-label"/>
            <Label fx:id="participantsLabel" styleClass="participants-label"/>
        </VBox>
        
        <Button fx:id="viewDetailsButton" text="DETAILS" 
                styleClass="details-button"
                onAction="#handleViewDetails"/>
    </HBox>
</VBox>
